{"remainingRequest":"/Volumes/data/1902/vue1/vue1/myapp1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/data/1902/vue1/vue1/myapp1/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/data/1902/vue1/vue1/myapp1/src/views/Login.vue","mtime":1559230738648},{"path":"/Volumes/data/1902/vue1/vue1/myapp1/node_modules/cache-loader/dist/cjs.js","mtime":1558966544429},{"path":"/Volumes/data/1902/vue1/vue1/myapp1/node_modules/babel-loader/lib/index.js","mtime":1558966544148},{"path":"/Volumes/data/1902/vue1/vue1/myapp1/node_modules/cache-loader/dist/cjs.js","mtime":1558966544429},{"path":"/Volumes/data/1902/vue1/vue1/myapp1/node_modules/vue-loader/lib/index.js","mtime":1558966550778}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nimport Vue from 'vue'\nimport { Toast } from 'vant'\nVue.use(Toast)\nexport default {\n  data () {\n    return {\n      username: '',\n      password: ''\n    }\n  },\n  computed: {\n    userReg () {\n      if (this.username === '') {\n        return '请输入11位手机号'\n      } else if (!(/^1[345678]\\d{9}$/.test(this.username))) {\n        return '手机号格式错误'\n      } else {\n        return ''\n      }\n    },\n    passReg () {\n      if (this.password === '') {\n        return '请输入6～20位数字或字符密码'\n      } else if (!(/^(\\w){6,20}$/.test(this.password))) {\n        return '密码格式错误'\n      } else {\n        return ''\n      }\n    }\n  },\n  methods: {\n    close () {\n      this.$router.go(-1)\n    },\n    login () {\n      if (this.userReg === '' && this.passReg === '') {\n        axios.post('http://www.daxunxun.com/users/login', {\n          username: this.username,\n          password: this.password\n        }).then(res => {\n          if (res.data === 0) {\n            Toast('登陆失败，请稍后在尝试')\n          } else if (res.data === 1) {\n            this.tel = JSON.parse(res.config.data)\n            console.log(this.tel)\n            sessionStorage.setItem('isLogin', 'ok')\n            this.$router.push({ path: '/user', query: { tel: this.tel.username, pass: this.tel.password } })\n          } else if (res.data === 2) {\n            Toast('该手机号尚未注册')\n          } else {\n            Toast('手机号或密码错误，请查询后再输入')\n          }\n        }).catch(err => {\n          console.log(err)\n        })\n      } else {\n        Toast('手机号或密码格式错误')\n      }\n    }\n  }\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login\">\n    <van-nav-bar\n      title=\"登陆\"\n      left-arrow\n      @click-left=\"close\"\n    />\n    <van-cell-group>\n      <van-field\n        v-model=\"username\"\n        required\n        clearable\n        label=\"用户名\"\n        right-icon=\"question-o\"\n        :error-message=\"userReg\"\n        placeholder=\"请输入用户名\"\n        @click-right-icon=\"$toast('请输入11位手机号')\"\n      />\n      <van-field\n        v-model=\"password\"\n        type=\"password\"\n        label=\"密码\"\n        right-icon=\"question-o\"\n        placeholder=\"请输入密码\"\n        :error-message=\"passReg\"\n        required\n         @click-right-icon=\"$toast('请输入6～20位数字和字符组成的密码')\"\n      />\n    </van-cell-group>\n    <van-button size='large' @click='login' type=\"primary\">登陆</van-button>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Vue from 'vue'\nimport { Toast } from 'vant'\nVue.use(Toast)\nexport default {\n  data () {\n    return {\n      username: '',\n      password: ''\n    }\n  },\n  computed: {\n    userReg () {\n      if (this.username === '') {\n        return '请输入11位手机号'\n      } else if (!(/^1[345678]\\d{9}$/.test(this.username))) {\n        return '手机号格式错误'\n      } else {\n        return ''\n      }\n    },\n    passReg () {\n      if (this.password === '') {\n        return '请输入6～20位数字或字符密码'\n      } else if (!(/^(\\w){6,20}$/.test(this.password))) {\n        return '密码格式错误'\n      } else {\n        return ''\n      }\n    }\n  },\n  methods: {\n    close () {\n      this.$router.go(-1)\n    },\n    login () {\n      if (this.userReg === '' && this.passReg === '') {\n        axios.post('http://www.daxunxun.com/users/login', {\n          username: this.username,\n          password: this.password\n        }).then(res => {\n          if (res.data === 0) {\n            Toast('登陆失败，请稍后在尝试')\n          } else if (res.data === 1) {\n            this.tel = JSON.parse(res.config.data)\n            console.log(this.tel)\n            sessionStorage.setItem('isLogin', 'ok')\n            this.$router.push({ path: '/user', query: { tel: this.tel.username, pass: this.tel.password } })\n          } else if (res.data === 2) {\n            Toast('该手机号尚未注册')\n          } else {\n            Toast('手机号或密码错误，请查询后再输入')\n          }\n        }).catch(err => {\n          console.log(err)\n        })\n      } else {\n        Toast('手机号或密码格式错误')\n      }\n    }\n  }\n}\n</script>\n"]}]}